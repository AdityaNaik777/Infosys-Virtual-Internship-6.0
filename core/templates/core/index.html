<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>AI Quiz Platform</title>

    <!-- Bootstrap 5 (CDN) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Animate.css (optional) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />

    <!-- AOS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css"
      rel="stylesheet"
    />

    <style>
      .btn-cta {
        transition: 0.25s ease;
      }
      .btn-cta:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 24px rgba(0, 123, 255, 0.15);
      }

      /* subtle slow float animation for hero illustration */
      .hero-illustration {
        animation: float 4s ease-in-out infinite;
      }

      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-8px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      :root {
        --primary: #2563eb;
        --muted: #6b7280;
      }
      body {
        background: #f8fafc;
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
      }
      .hero-section {
        padding: 80px 0;
      }
      .hero-title {
        font-size: 2.6rem;
        font-weight: 700;
        color: #0d1b2a;
        margin-bottom: 0.5rem;
      }
      .hero-text {
        font-size: 1.05rem;
        color: #334155;
      }

      .btn-cta {
        transition: transform 0.2s cubic-bezier(0.22, 0.9, 0.37, 1),
          box-shadow 0.2s;
        will-change: transform;
      }
      .btn-cta:hover {
        transform: translateY(-4px) scale(1.02);
        box-shadow: 0 10px 20px rgba(37, 99, 235, 0.12);
      }

      .feature-card {
        transition: transform 0.22s ease, box-shadow 0.22s ease;
        border-radius: 0.6rem;
        background: #fff;
      }
      .feature-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 14px 30px rgba(2, 6, 23, 0.06);
      }
      .feature-icon {
        display: inline-block;
        transition: transform 0.22s ease;
        font-size: 2rem;
      }

      .counter {
        font-weight: 700;
        font-size: 1.6rem;
        color: #0d1b2a;
      }
      .hero-lottie {
        max-width: 420px;
        margin: 0 auto;
      }

      @media (prefers-reduced-motion: reduce) {
        .btn-cta,
        .feature-card,
        .feature-icon,
        .counter {
          transition: none !important;
          animation: none !important;
        }
      }

      footer {
        background: #0f172a;
        color: #cbd5e1;
        padding: 18px 0;
      }
    </style>
  </head>
  <body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
      <div class="container">
        <a class="navbar-brand fw-bold text-primary" href="#">AI Quiz Hub</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navMenu"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navMenu">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="#features">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#how">How it works</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'accounts:login' %}">Login</a>
            </li>
            <li class="nav-item">
              <a
                class="btn btn-primary ms-2"
                href="{% url 'accounts:register' %}"
                >Sign Up</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- HERO -->
    {% include "core/hero.html" %}

    <!-- HOW IT WORKS -->
    <section id="how" class="py-5">
      <div class="container text-center">
        <h2 class="fw-bold mb-5">How It Works</h2>
        <div class="row g-4">
          <div class="col-md-3">
            <h1>1️⃣</h1>
            <p>Select category and difficulty</p>
          </div>
          <div class="col-md-3">
            <h1>2️⃣</h1>
            <p>AI generates questions instantly</p>
          </div>
          <div class="col-md-3">
            <h1>3️⃣</h1>
            <p>Attempt quiz with timer</p>
          </div>
          <div class="col-md-3">
            <h1>4️⃣</h1>
            <p>View score + AI explanations</p>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="container text-center">
        <p class="mb-0">
          © 2025 AI Quiz Hub — Intelligent Quiz Management System
        </p>
      </div>
    </footer>

    <!-- SCRIPTS (place before closing body) -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"
      defer
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.10.2/lottie.min.js"
      defer
    ></script>

    <script>
      // AOS init (wait until library loads)
      document.addEventListener("DOMContentLoaded", () => {
        if (window.AOS)
          AOS.init({ duration: 700, once: true, easing: "ease-out-cubic" });
      });

      // Lazy load Lottie when visible
      (function () {
        let loaded = false;
        function loadLottie() {
          if (loaded) return;
          loaded = true;
          const animationPath =
            "https://assets4.lottiefiles.com/packages/lf20_jtbfg2nb.json";
          lottie.loadAnimation({
            container: document.getElementById("lottie-hero"),
            renderer: "svg",
            loop: true,
            autoplay: true,
            path: animationPath,
          });
        }
        const hero = document.getElementById("lottie-hero");
        if ("IntersectionObserver" in window && hero) {
          const io = new IntersectionObserver(
            (entries) => {
              entries.forEach((e) => {
                if (e.isIntersecting) {
                  loadLottie();
                  io.disconnect();
                }
              });
            },
            { threshold: 0.2 }
          );
          io.observe(hero);
        } else {
          loadLottie();
        }
      })();

      // Animated counters
      (function () {
        const counters = document.querySelectorAll(".counter");
        const speed = 1500;
        function runCounter(el, target) {
          let start = 0;
          const step = Math.max(1, Math.floor(target / (speed / 16)));
          function tick() {
            start += step;
            if (start >= target) {
              el.textContent = target;
            } else {
              el.textContent = start;
              requestAnimationFrame(tick);
            }
          }
          requestAnimationFrame(tick);
        }
        if ("IntersectionObserver" in window && counters.length) {
          const obs = new IntersectionObserver(
            (entries) => {
              entries.forEach((e) => {
                if (e.isIntersecting) {
                  counters.forEach((c) =>
                    runCounter(c, parseInt(c.dataset.target, 10))
                  );
                  obs.disconnect();
                }
              });
            },
            { threshold: 0.4 }
          );
          obs.observe(counters[0]);
        } else {
          counters.forEach((c) =>
            runCounter(c, parseInt(c.dataset.target, 10))
          );
        }
      })();
    </script>
  </body>
</html>
